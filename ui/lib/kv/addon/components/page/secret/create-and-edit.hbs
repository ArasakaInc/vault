<PageHeader as |p|>
  <p.top>
    <Page::Breadcrumbs @breadcrumbs={{@breadcrumbs}} />
  </p.top>
  <p.levelLeft>
    <h1 class="title is-3">
      {{if @model.isNew "Create secret" "Edit secret"}}
    </h1>
  </p.levelLeft>
</PageHeader>

<hr class="is-marginless has-background-gray-200" />

<form id="kv-secret" aria-label="secret create form" {{on "submit" this.onSave}}>
  <div class="field box is-fullwidth is-sideless is-marginless">
    {{#each @model.formFields as |field|}}
      <FormField @attr={{field}} @model={{@model}} />
    {{/each}}
  </div>
</form>

<div class="has-top-margin-l has-bottom-margin-s">
  <button
    type="submit"
    form="kv-secret"
    class="button is-primary {{if this.save.isRunning 'is-loading'}}"
    disabled={{this.save.isRunning}}
    data-test-kv-secret-save
  >
    Save
  </button>
  <button type="button" class="button has-left-margin-s" data-test-secret-cancel {{on "click" this.cancel}}>
    Back
  </button>
</div>